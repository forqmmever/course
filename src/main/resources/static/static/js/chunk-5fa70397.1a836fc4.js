(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fa70397"],{"69dd":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index)+" ")]}}])}),n("el-table-column",{attrs:{label:"Metric"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.editing?n("el-input",{model:{value:e.row.editData.metric,callback:function(n){t.$set(e.row.editData,"metric",n)},expression:"scope.row.editData.metric"}}):n("span",[t._v(t._s(e.row.metric))])]}}])}),n("el-table-column",{attrs:{label:"ConstraintType"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.editing?n("el-input",{model:{value:e.row.editData.constraintType,callback:function(n){t.$set(e.row.editData,"constraintType",n)},expression:"scope.row.editData.constraintType"}}):n("span",[t._v(t._s(e.row.constraintType))])]}}])}),n("el-table-column",{attrs:{label:"Value"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.editing?n("el-input",{model:{value:e.row.editData.value,callback:function(n){t.$set(e.row.editData,"value",n)},expression:"scope.row.editData.value"}}):n("span",[t._v(t._s(e.row.value))])]}}])}),n("el-table-column",{attrs:{label:"Description"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.editing?n("el-input",{model:{value:e.row.editData.description,callback:function(n){t.$set(e.row.editData,"description",n)},expression:"scope.row.editData.description"}}):n("span",[t._v(t._s(e.row.description))])]}}])}),n("el-table-column",{attrs:{label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.editing?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return t.saveRow(e.row)}}},[t._v("Save")]):n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.editRow(e.row)}}},[t._v("Edit")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.deleteRow(e.row)}}},[t._v("Delete")])]}}])})],1)],1)},o=[],a=n("5530"),r=(n("4de4"),n("d3b7"),n("ad8f")),c={data:function(){return{list:[],listLoading:!1}},mounted:function(){this.fetchLogs()},methods:{fetchLogs:function(){var t=this;this.listLoading=!0,Object(r["b"])().then((function(e){t.list=e,t.listLoading=!1})).catch((function(t){console.error("获取日志失败:",t)}))},editRow:function(t){this.$set(t,"editing",!0),this.$set(t,"editData",Object(a["a"])({},t))},saveRow:function(t){var e=this;Object(r["d"])(t.metric,t.editData).then((function(){t.editing=!1,delete t.editData,e.fetchLogs()})).catch((function(t){console.error("更新条目失败:",t)}))},deleteRow:function(t){var e=this;Object(r["a"])(t.metric).then((function(){e.list=e.list.filter((function(e){return e.metric!==t.metric})),e.fetchLogs()})).catch((function(t){console.error("删除条目失败:",t)}))}}},s=c,l=n("2877"),u=Object(l["a"])(s,i,o,!1,null,null,null);e["default"]=u.exports},ad8f:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d81d");var i=n("b775"),o=n("cee4");function a(t){return Object(i["a"])({url:"/metric/get",method:"get",params:t}).then((function(t){var e=t.data.map((function(t){return{id:t.id,metric:t.metric,tagJson:t.tagJson,timestamp:t.timestamp,value:t.value,tags:t.tags,description:t.description,time:new Date(t.time)}}));return e})).catch((function(t){throw console.error("Error fetching logs:",t),t}))}function r(t){return Object(i["a"])({url:"/constraint/get",method:"get",params:t}).then((function(t){var e=t.data.map((function(t){return{id:t.id,metric:t.metric,constraintType:t.constraintType,value:t.value,description:t.description}}));return e})).catch((function(t){throw console.error("Error fetching logs:",t),t}))}var c=function(t,e){return o["a"].put("/api/constraint/update/".concat(t),e)},s=function(t){return o["a"].delete("/api/constraint/delete/".concat(t))}}}]);